<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Альбомы — Увертюра Иордан</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="hero">
        <h1>Увертюра Иордан</h1>
        <nav>
            <a href="index.html">Главная</a>
            <a href="albums.html">Альбомы</a>
            <a href="gallery.html">Галерея</a>
        </nav>
    </header>

    <main class="albums-page">
    <h2 style="text-align:center; margin:40px 0;">Альбомы</h2>

    <div class="albums-grid">
        <!-- Альбом 1 -->
        <div class="album-card">
            <img src="albums/album1.jpg" alt="Альбом 1">
            <h3>Как будто ты в фонтан упал</h3>
            <p>2025</p>

            <div class="album-tracks">
                <div class="track">
                    <h4>Труп</h4>
                    <audio class="track-audio" controls src="music/track1.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Одна</h4>
                    <audio class="track-audio" controls src="music/track2.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Первый признак</h4>
                    <audio class="track-audio" controls src="music/track3.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Над нами</h4>
                    <audio class="track-audio" controls src="music/track4.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Песня гастронома</h4>
                    <audio class="track-audio" controls src="music/track5.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Лицо</h4>
                    <audio class="track-audio" controls src="music/track6.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Сколько раз</h4>
                    <audio class="track-audio" controls src="music/track7.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Тише</h4>
                    <audio class="track-audio" controls src="music/track8.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Они видят во мне врага</h4>
                    <audio class="track-audio" controls src="music/track9.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Домой</h4>
                    <audio class="track-audio" controls src="music/track10.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Второй признак</h4>
                    <audio class="track-audio" controls src="music/track11.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Амнезия</h4>
                    <audio class="track-audio" controls src="music/track12.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Пурт</h4>
                    <audio class="track-audio" controls src="music/track13.mp3"></audio>
                </div>
            </div>

            <div class="links">
                <a href="#" target="_blank">Spotify</a>
                <a href="#" target="https://www.youtube.com/playlist?list=OLAK5uy_luKjn0cJBQwo35yeWvqSwkX3QRzWiSJBs">YouTube</a>
                <a href="#" target="_blank">Apple Music</a>
            </div>
        </div>

        <!-- Альбом 2 -->
        <div class="album-card">
            <img src="albums/album2.jpg" alt="Альбом 2">
            <h3>Альбом?</h3>
            <p>?</p>

            <div class="album-tracks">
                <div class="track">
                    <h4>Трек 1</h4>
                    <audio class="track-audio" controls src="music/track0.mp3"></audio>
                </div>
                <div class="track">
                    <h4>Трек 2</h4>
                    <audio class="track-audio" controls src="music/track0.mp3"></audio>
                </div>
            </div>

            <div class="links">
                <a href="#" target="_blank">Spotify</a>
                <a href="#" target="_blank">YouTube</a>
                <a href="#" target="_blank">Apple Music</a>
            </div>
        </div>
    </div>
    </main>

    <canvas id="particle-canvas"></canvas>
<script>
const canvas = document.getElementById('particle-canvas');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
});

const particles = [];
const colors = ['#ff00ff', '#ff66ff', '#66ffff', '#00ffff'];

for (let i = 0; i < 80; i++) {
    particles.push({
        x: Math.random() * width,
        y: Math.random() * height,
        r: Math.random() * 3 + 1,
        dx: (Math.random() - 0.5) * 0.8,
        dy: (Math.random() - 0.5) * 0.8,
        color: colors[Math.floor(Math.random() * colors.length)]
    });
}

function animate() {
    ctx.clearRect(0, 0, width, height);
    particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.fill();
        p.x += p.dx;
        p.y += p.dy;

        if (p.x < 0 || p.x > width) p.dx *= -1;
        if (p.y < 0 || p.y > height) p.dy *= -1;
    });
    requestAnimationFrame(animate);
}

animate();
</script>

<script>
const canvas = document.getElementById('particle-canvas');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
});

const particles = [];
const colors = ['#ff00ff', '#ff66ff', '#66ffff', '#00ffff'];
for (let i = 0; i < 120; i++) {
    particles.push({
        x: Math.random() * width,
        y: Math.random() * height,
        r: Math.random() * 3 + 1,
        dx: (Math.random() - 0.5) * 0.8,
        dy: (Math.random() - 0.5) * 0.8,
        color: colors[Math.floor(Math.random() * colors.length)]
    });
}

// Подключаем аудио
const audioElements = document.querySelectorAll('.track-audio');
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
const analysers = [];

audioElements.forEach(audioEl => {
    const source = audioCtx.createMediaElementSource(audioEl);
    const analyser = audioCtx.createAnalyser();
    analyser.fftSize = 256;
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analysers.push(analyser);
});

// Функция для получения уровня громкости
function getAverageVolume(array) {
    let values = 0;
    let length = array.length;
    for (let i = 0; i < length; i++) {
        values += array[i];
    }
    return values / length;
}

function animate() {
    ctx.clearRect(0, 0, width, height);

    // Средняя громкость всех треков
    let avgVol = 0;
    analysers.forEach(analyser => {
        const dataArray = new Uint8Array(analyser.frequencyBinCount);
        analyser.getByteFrequencyData(dataArray);
        avgVol += getAverageVolume(dataArray);
    });
    avgVol /= analysers.length || 1;

    particles.forEach(p => {
        // движение частиц зависит от громкости
        p.x += p.dx * (1 + avgVol/50);
        p.y += p.dy * (1 + avgVol/50);
        if (p.x < 0 || p.x > width) p.dx *= -1;
        if (p.y < 0 || p.y > height) p.dy *= -1;

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r + avgVol/100, 0, Math.PI*2);
        ctx.fillStyle = p.color;
        ctx.fill();
    });

    requestAnimationFrame(animate);
}

animate();
</script>
    
</body>
</html>



